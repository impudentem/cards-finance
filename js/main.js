var contact_info,digits_only,inn_lenght,required_field,text_cyrillic,text_date_only,text_phone_valid;text_phone_valid="Введите правильный номер",text_cyrillic="Допустимо: кириллица и дефис",contact_info="Заполните контактную информацию",required_field="Обязательное поле",digits_only="Введите целое число",text_date_only="Введите дату рождения в формате ДД.ММ.ГГГГ",inn_lenght="ИНН должен состоять из 10 символов.",$(function(){var e,t,r,i;return $.validator.addMethod("phone_valid",function(e,t){return!!/^[+]\d{2}\s[(]\d{3}[)]\s\d{3}[\-]\d{2}[\-]\d{2}$/gi.test(e)},text_phone_valid),$.validator.addMethod("cyrillic",function(e,t){return!/[^а-яёіїґє-\s]/gi.test(e)},text_cyrillic),$.validator.addMethod("date_only",function(e,t){return!!/^\d{2}.\d{2}.\d{4}$/gi.test(e)},text_date_only),i=$("form input.inp, form select.inp"),i.each(function(){var e,t,r,i,n;switch(e=$(this),e.val()&&e.parents(".input-holder").addClass("filled-input"),t=new Inputmask("U{1,64}[ ][U{1,64}]",{placeholder:"",showMaskOnHover:!1,greedy:!1}),this.name){case"lastName":return t.mask(this);case"firstName":return t.mask(this);case"phone":return e.inputmask({mask:"+38 \\(099\\) 999-99-99",greedy:!1,showMaskOnHover:!1});case"email":return e.inputmask({alias:"email",greedy:!1,showMaskOnHover:!1});case"city":return t.mask(this);case"birthDate":return i=new Date,r=new Date,r.setFullYear(r.getFullYear()-18),i.setFullYear(i.getFullYear()-90),n={pos:"bottom",format:"DD.MM.YYYY",i18n:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},minDate:UIkit.Utils.moment(i).format("DD.MM.YYYY"),maxDate:UIkit.Utils.moment(r).format("DD.MM.YYYY")},UIkit.datepicker(e,n);case"inn":return e.inputmask({mask:"9999999999",greedy:!1,showMaskOnHover:!1});default:return""}}),e=$("select"),!1===UIkit.support.touch&&new SelectImpu(e,{targetAct:".uk-button.uk-form-select"}),i.on("blur, change",function(){var e,t,r;return e=$(this),t=e.parents("form"),r=e.parents(".input-holder"),e.val()?r.addClass("filled-input"):r.removeClass("filled-input"),e.valid()}),r=UIkit.modal("#error-modal",{center:!0}),t=UIkit.modal("#complete-modal",{center:!0}),$("form").validate({rules:{firstName:{required:!0,cyrillic:!0},lastName:{required:!0,cyrillic:!0},inn:{digits:!0,rangelength:[10,10]},city:{required:!0},email:{required:!0},birthDate:{date_only:!0,required:!0},employment:{required:!0},agree_personal:{required:!0},phone:{required:!0,phone_valid:!0}},messages:{firstName:{required:required_field},lastName:{required:required_field},inn:{digits:digits_only,rangelength:inn_lenght},city:{required:required_field},phone:{required:required_field},email:{required:required_field},birthDate:{required:required_field},employment:{required:required_field},agree_personal:{required:required_field}},errorClass:"error",validClass:"valid",errorElement:"span",submitHandler:function(e){var n,a;return n={birthDate:e.elements.birthDate.value,identCode:e.elements.inn.value||e.elements.birthDate.value,phone:"+380"+e.elements.phone.inputmask.unmaskedvalue(),firstName:e.elements.firstName.value,lastName:e.elements.lastName.value,employment:e.elements.employment.value,offerCode:e.elements.offerCode.value,city:e.elements.city.value,email:e.elements.email.value,partner:141},a=$.param(n),$.ajax({url:"http://partner.finline.ua/api/applyWeb/v2/",type:"POST",dataType:"json",data:a,beforeSend:function(){return $(".uk-overlay-icon-spinner").toggle()},success:function(n){var a;return console.log("success",n),n.error?(r.find("p").text(n.error),r.show()):t.show(),e.reset(),"function"==typeof(a=$(e).validate()).resetForm&&a.resetForm(),i.each(function(){var e;return e=$(this),"employment"===this.name&&e.trigger($.Event("change"),{},e),e.parents(".input-holder").removeClass("filled-input")}),$(".uk-overlay-icon-spinner").toggle()},error:function(e){return console.log(e),r.show()}}),!1}})});
//# sourceMappingURL=./main.js.map