!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("rust",function(){function e(e,t){return V=e,t}function t(t,o){var a=t.next();if('"'==a)return o.tokenize=n,o.tokenize(t,o);if("'"==a)return V="atom",t.eat("\\")?t.skipTo("'")?(t.next(),"string"):"error":(t.next(),t.eat("'")?"string":"error");if("/"==a){if(t.eat("/"))return t.skipToEnd(),"comment";if(t.eat("*"))return o.tokenize=r(1),o.tokenize(t,o)}if("#"==a)return t.eat("[")?(V="open-attr",null):(t.eatWhile(/\w/),e("macro","meta"));if(":"==a&&t.match(":<"))return e("op",null);if(a.match(/\d/)||"."==a&&t.eat(/\d/)){var i=!1;return t.match(/^x[\da-f]+/i)||t.match(/^b[01]+/)||(t.eatWhile(/\d/),t.eat(".")&&(i=!0,t.eatWhile(/\d/)),t.match(/^e[+\-]?\d+/i)&&(i=!0)),i?t.match(/^f(?:32|64)/):t.match(/^[ui](?:8|16|32|64)/),e("atom","number")}return a.match(/[()\[\]{}:;,]/)?e(a,null):"-"==a&&t.eat(">")?e("->",null):a.match(R)?(t.eatWhile(R),e("op",null)):(t.eatWhile(/\w/),X=t.current(),t.match(/^::\w/)?(t.backUp(1),e("prefix","variable-2")):o.keywords.propertyIsEnumerable(X)?e(o.keywords[X],X.match(/true|false/)?"atom":"keyword"):e("name","variable"))}function n(n,r){for(var o,a=!1;o=n.next();){if('"'==o&&!a)return r.tokenize=t,e("atom","string");a=!a&&"\\"==o}return e("op","string")}function r(e){return function(n,o){for(var a=null,i;i=n.next();){if("/"==i&&"*"==a){if(1==e){o.tokenize=t;break}return o.tokenize=r(e-1),o.tokenize(n,o)}if("*"==i&&"/"==a)return o.tokenize=r(e+1),o.tokenize(n,o);a=i}return"comment"}}function o(){for(var e=arguments.length-1;e>=0;e--)Y.cc.push(arguments[e])}function a(){return o.apply(null,arguments),!0}function i(e,t){var n=function(){var n=Y.state;n.lexical={indented:n.indented,column:Y.stream.column(),type:e,prev:n.lexical,info:t}};return n.lex=!0,n}function u(){var e=Y.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function l(){Y.state.keywords=Q}function c(){Y.state.keywords=N}function f(e,t){function n(r){return","==r?a(e,n):r==t?a():a(n)}return function(r){return r==t?a():o(e,n)}}function m(e,t){return a(i("stat",t),e,u,d)}function d(e){return"}"==e?a():"let"==e?m(w,"let"):"fn"==e?m(j):"type"==e?a(i("stat"),C,s,u,d):"enum"==e?m(W):"mod"==e?m(M):"iface"==e?m(S):"impl"==e?m(I):"open-attr"==e?a(i("]"),f(k,"]"),u):"ignore"==e||e.match(/[\]\);,]/)?a(d):o(i("stat"),k,u,s,d)}function s(e){return";"==e?a():o()}function k(e){return"atom"==e||"name"==e?a(p):"{"==e?a(i("}"),y,u):e.match(/[\[\(]/)?H(e,k):e.match(/[\]\)\};,]/)?o():"if-style"==e?a(k,k):"else-style"==e||"op"==e?a(k):"for"==e?a(U,g,z,k,k):"alt"==e?a(k,B):"fn"==e?a(j):"macro"==e?a(G):a()}function p(e){return"."==X?a(h):"::<"==X?a(O,p):"op"==e||":"==X?a(k):"("==e||"["==e?H(e,k):o()}function h(){return X.match(/^\w+$/)?(Y.marked="variable",a(p)):o(k)}function y(e){if("op"==e){if("|"==X)return a(b,u,i("}","block"),d);if("||"==X)return a(u,i("}","block"),d)}return o("mutable"==X||X.match(/^\w+$/)&&":"==Y.stream.peek()&&!Y.stream.match("::",!1)?x(k):d)}function x(e){function t(n){return"mutable"==X||"with"==X?(Y.marked="keyword",a(t)):X.match(/^\w*$/)?(Y.marked="variable",a(t)):":"==n?a(e,t):"}"==n?a():a(t)}return t}function b(e){return"name"==e?(Y.marked="def",a(b)):"op"==e&&"|"==X?a():a(b)}function w(e){return e.match(/[\]\)\};]/)?a():"="==X?a(k,v):","==e?a(w):o(U,g,w)}function v(e){return e.match(/[\]\)\};,]/)?o(w):o(k,v)}function g(e){return":"==e?a(l,T,c):o()}function z(e){return"name"==e&&"in"==X?(Y.marked="keyword",a()):o()}function j(e){return"@"==X||"~"==X?(Y.marked="keyword",a(j)):"name"==e?(Y.marked="def",a(j)):"<"==X?a(O,j):"{"==e?o(k):"("==e?a(i(")"),f(P,")"),u,j):"->"==e?a(l,T,c,j):";"==e?a():a(j)}function C(e){return"name"==e?(Y.marked="def",a(C)):"<"==X?a(O,C):"="==X?a(l,T,c):a(C)}function W(e){return"name"==e?(Y.marked="def",a(W)):"<"==X?a(O,W):"="==X?a(l,T,c,s):"{"==e?a(i("}"),l,E,c,u):a(W)}function E(e){return"}"==e?a():"("==e?a(i(")"),f(T,")"),u,E):(X.match(/^\w+$/)&&(Y.marked="def"),a(E))}function M(e){return"name"==e?(Y.marked="def",a(M)):"{"==e?a(i("}"),d,u):o()}function S(e){return"name"==e?(Y.marked="def",a(S)):"<"==X?a(O,S):"{"==e?a(i("}"),d,u):o()}function I(e){return"<"==X?a(O,I):"of"==X||"for"==X?(Y.marked="keyword",a(T,I)):"name"==e?(Y.marked="def",a(I)):"{"==e?a(i("}"),d,u):o()}function O(){return">"==X?a():","==X?a(O):":"==X?a(T,O):o(T,O)}function P(e){return"name"==e?(Y.marked="def",a(P)):":"==e?a(l,T,c):o()}function T(e){return"name"==e?(Y.marked="variable-3",a(q)):"mutable"==X?(Y.marked="keyword",a(T)):"atom"==e?a(q):"op"==e||"obj"==e?a(T):"fn"==e?a(A):"{"==e?a(i("{"),x(T),u):H(e,T)}function q(){return"<"==X?a(O):o()}function A(e){return"("==e?a(i("("),f(T,")"),u,A):"->"==e?a(T):o()}function U(e){return"name"==e?(Y.marked="def",a(_)):"atom"==e?a(_):"op"==e?a(U):e.match(/[\]\)\};,]/)?o():H(e,U)}function _(e){return"op"==e&&"."==X?a():"to"==X?(Y.marked="keyword",a(U)):o()}function B(e){return"{"==e?a(i("}","alt"),D,u):o()}function D(e){return"}"==e?a():"|"==e?a(D):"when"==X?(Y.marked="keyword",a(k,F)):e.match(/[\]\);,]/)?a(D):o(U,F)}function F(e){return"{"==e?a(i("}","alt"),d,u,D):o(D)}function G(e){return e.match(/[\[\(\{]/)?H(e,k):o()}function H(e,t){return"["==e?a(i("]"),f(t,"]"),u):"("==e?a(i(")"),f(t,")"),u):"{"==e?a(i("}"),f(t,"}"),u):a()}function J(e,t,n){var r=e.cc;for(Y.state=e,Y.stream=t,Y.marked=null,Y.cc=r;;){if((r.length?r.pop():d)(V)){for(;r.length&&r[r.length-1].lex;)r.pop()();return Y.marked||n}}}var K=4,L=2,N={if:"if-style",while:"if-style",loop:"else-style",else:"else-style",do:"else-style",ret:"else-style",fail:"else-style",break:"atom",cont:"atom",const:"let",resource:"fn",let:"let",fn:"fn",for:"for",alt:"alt",iface:"iface",impl:"impl",type:"type",enum:"enum",mod:"mod",as:"op",true:"atom",false:"atom",assert:"op",check:"op",claim:"op",native:"ignore",unsafe:"ignore",import:"else-style",export:"else-style",copy:"op",log:"op",log_err:"op",use:"op",bind:"op",self:"atom",struct:"enum"},Q=function(){for(var e={fn:"fn",block:"fn",obj:"obj"},t="bool uint int i8 i16 i32 i64 u8 u16 u32 u64 float f32 f64 str char".split(" "),n=0,r=t.length;n<r;++n)e[t[n]]="atom";return e}(),R=/[+\-*&%=<>!?|\.@]/,V,X,Y={state:null,stream:null,marked:null,cc:null};return u.lex=l.lex=c.lex=!0,{startState:function(){return{tokenize:t,cc:[],lexical:{indented:-4,column:0,type:"top",align:!1},keywords:N,indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;V=X=null;var n=t.tokenize(e,t);return"comment"==n?n:(t.lexical.hasOwnProperty("align")||(t.lexical.align=!0),"prefix"==V?n:(X||(X=e.current()),J(t,e,n)))},indent:function(e,n){if(e.tokenize!=t)return 0;var r=n&&n.charAt(0),o=e.lexical,a=o.type,i=r==a;return"stat"==a?o.indented+4:o.align?o.column+(i?0:1):o.indented+(i?0:"alt"==o.info?2:4)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),e.defineMIME("text/x-rustsrc","rust")});
//# sourceMappingURL=./rust.min.js.map