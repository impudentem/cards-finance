{"version":3,"sources":["show-hint.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","Completion","cm","options","this","buildOptions","widget","debounce","tick","startPos","getCursor","startLen","getLine","line","length","self","on","activityFunc","cursorActivity","getText","completion","text","buildKeyMap","handle","addBinding","key","val","bound","baseMap","hasOwnProperty","ourMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","close","custom","customKeys","extra","extraKeys","getHintElement","hintsElement","el","nodeName","toUpperCase","parentNode","Widget","data","picked","hints","document","createElement","className","selectedHint","completions","list","i","elt","appendChild","cur","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","render","createTextNode","displayText","hintId","pos","cursorCoords","alignWithWord","from","left","top","bottom","below","style","winW","window","innerWidth","Math","max","body","offsetWidth","documentElement","winH","innerHeight","offsetHeight","container","box","getBoundingClientRect","height","cursor","ch","overlapX","right","width","addKeyMap","keyMap","n","avoidWrap","changeActive","screenAmount","closeOnUnfocus","closingOnBlur","onBlur","setTimeout","onFocus","clearTimeout","startScroll","getScrollInfo","onScroll","curScroll","editor","getWrapperElement","newTop","point","pageYOffset","scrollTop","e","t","target","srcElement","completeOnSingleClick","focus","signal","firstChild","showHint","getHints","async","newOpts","hint","prop","defineExtension","listSelections","somethingSelected","state","completionActive","update","requestAnimationFrame","fn","cancelAnimationFrame","prototype","active","off","replaceRange","to","closeCharacters","test","charAt","disable","first","myTick","finishUpdate","completeSingle","hintOptions","out","defaultOptions","undefined","removeChild","removeKeyMap","node","childNodes","replace","offsetTop","clientHeight","floor","registerHelper","helpers","getHelpers","words","getHelper","fromList","anyword","token","getTokenAt","found","word","slice","string","push","Pos","start","end","commands","autocomplete","auto","defineOption"],"mappings":"CAGA,SAAUA,GACc,gBAAXC,UAAwC,gBAAVC,QACvCF,EAAIG,QAAQ,yBACY,kBAAVC,SAAwBA,OAAOC,IAC7CD,QAAQ,wBAAyBJ,GAEjCA,EAAIM,aACL,SAASA,GACV,YA2BA,SAASC,GAAWC,EAAIC,GACtBC,KAAKF,GAAKA,EACVE,KAAKD,QAAUC,KAAKC,aAAaF,GACjCC,KAAKE,OAAS,KACdF,KAAKG,SAAW,EAChBH,KAAKI,KAAO,EACZJ,KAAKK,SAAWL,KAAKF,GAAGQ,YACxBN,KAAKO,SAAWP,KAAKF,GAAGU,QAAQR,KAAKK,SAASI,MAAMC,MAEpD,IAAIC,GAAOX,IACXF,GAAGc,GAAG,iBAAkBZ,KAAKa,aAAe,WAAaF,EAAKG,mBA2FhE,QAASC,GAAQC,GACf,MAAyB,gBAAdA,GAA+BA,EAC9BA,EAAWC,KAGzB,QAASC,GAAYF,EAAYG,GAc/B,QAASC,GAAWC,EAAKC,GACvB,GAAIC,EAEFA,GADgB,gBAAPD,GACD,SAASxB,GAAM,MAAOwB,GAAIxB,EAAIqB,IAE/BK,EAAQC,eAAeH,GACtBE,EAAQF,GAERA,EACVI,EAAOL,GAAOE,EAtBhB,GAAIC,IACFG,GAAI,WAAYR,EAAOS,WAAW,IAClCC,KAAM,WAAYV,EAAOS,UAAU,IACnCE,OAAQ,WAAYX,EAAOS,UAA+B,EAApBT,EAAOY,YAAgB,IAC7DC,SAAU,WAAYb,EAAOS,UAAUT,EAAOY,WAAa,GAAG,IAC9DE,KAAM,WAAYd,EAAOe,SAAS,IAClCC,IAAK,WAAYhB,EAAOe,SAASf,EAAOT,OAAS,IACjD0B,MAAOjB,EAAOkB,KACdC,IAAKnB,EAAOkB,KACZE,IAAKpB,EAAOqB,OAEVC,EAASzB,EAAWjB,QAAQ2C,WAC5BhB,EAASe,KAAcjB,CAY3B,IAAIiB,EACF,IAAK,GAAIpB,KAAOoB,GAAYA,EAAOhB,eAAeJ,IAChDD,EAAWC,EAAKoB,EAAOpB,GAC3B,IAAIsB,GAAQ3B,EAAWjB,QAAQ6C,SAC/B,IAAID,EACF,IAAK,GAAItB,KAAOsB,GAAWA,EAAMlB,eAAeJ,IAC9CD,EAAWC,EAAKsB,EAAMtB,GAC1B,OAAOK,GAGT,QAASmB,GAAeC,EAAcC,GACpC,KAAOA,GAAMA,GAAMD,GAAc,CAC/B,GAAkC,OAA9BC,EAAGC,SAASC,eAA0BF,EAAGG,YAAcJ,EAAc,MAAOC,EAChFA,GAAKA,EAAGG,YAIZ,QAASC,GAAOnC,EAAYoC,GAC1BpD,KAAKgB,WAAaA,EAClBhB,KAAKoD,KAAOA,EACZpD,KAAKqD,QAAS,CACd,IAAInD,GAASF,KAAMF,EAAKkB,EAAWlB,GAE/BwD,EAAQtD,KAAKsD,MAAQC,SAASC,cAAc,KAChDF,GAAMG,UAAY,mBAClBzD,KAAK0D,aAAeN,EAAKM,cAAgB,CAGzC,KAAK,GADDC,GAAcP,EAAKQ,KACdC,EAAI,EAAGA,EAAIF,EAAYjD,SAAUmD,EAAG,CAC3C,GAAIC,GAAMR,EAAMS,YAAYR,SAASC,cAAc,OAAQQ,EAAML,EAAYE,GACzEJ,EAAYQ,GAAsBJ,GAAK7D,KAAK0D,aAAe,GAAK,IAAMQ,EACrD,OAAjBF,EAAIP,YAAmBA,EAAYO,EAAIP,UAAY,IAAMA,GAC7DK,EAAIL,UAAYA,EACZO,EAAIG,OAAQH,EAAIG,OAAOL,EAAKV,EAAMY,GACjCF,EAAIC,YAAYR,SAASa,eAAeJ,EAAIK,aAAetD,EAAQiD,KACxEF,EAAIQ,OAAST,EAGf,GAAIU,GAAMzE,EAAG0E,aAAaxD,EAAWjB,QAAQ0E,cAAgBrB,EAAKsB,KAAO,MACrEC,EAAOJ,EAAII,KAAMC,EAAML,EAAIM,OAAQC,GAAQ,CAC/CxB,GAAMyB,MAAMJ,KAAOA,EAAO,KAC1BrB,EAAMyB,MAAMH,IAAMA,EAAM,IAExB,IAAII,GAAOC,OAAOC,YAAcC,KAAKC,IAAI7B,SAAS8B,KAAKC,YAAa/B,SAASgC,gBAAgBD,aACzFE,EAAOP,OAAOQ,aAAeN,KAAKC,IAAI7B,SAAS8B,KAAKK,aAAcnC,SAASgC,gBAAgBG,eAC9F1E,EAAWjB,QAAQ4F,WAAapC,SAAS8B,MAAMtB,YAAYT,EAC5D,IAAIsC,GAAMtC,EAAMuC,uBAChB,IADoDD,EAAIf,OAASW,EAClD,EAAG,CAChB,GAAIM,GAASF,EAAIf,OAASe,EAAIhB,GAC9B,IAD4CL,EAAIK,KAAOL,EAAIM,OAASe,EAAIhB,KAC3DkB,EAAS,EACpBxC,EAAMyB,MAAMH,KAAOA,EAAML,EAAIK,IAAMkB,GAAU,KAC7ChB,GAAQ,MACH,IAAIgB,EAASN,EAAM,CACxBlC,EAAMyB,MAAMe,OAAUN,EAAO,EAAK,KAClClC,EAAMyB,MAAMH,KAAOA,EAAML,EAAIM,OAASe,EAAIhB,KAAO,IACjD,IAAImB,GAASjG,EAAGQ,WACZ8C,GAAKsB,KAAKsB,IAAMD,EAAOC,KACzBzB,EAAMzE,EAAG0E,aAAauB,GACtBzC,EAAMyB,MAAMJ,MAAQA,EAAOJ,EAAII,MAAQ,KACvCiB,EAAMtC,EAAMuC,0BAIlB,GAAII,GAAWL,EAAIM,MAAQlB,CAmB3B,IAlBIiB,EAAW,IACTL,EAAIM,MAAQN,EAAIjB,KAAOK,IACzB1B,EAAMyB,MAAMoB,MAASnB,EAAO,EAAK,KACjCiB,GAAaL,EAAIM,MAAQN,EAAIjB,KAAQK,GAEvC1B,EAAMyB,MAAMJ,MAAQA,EAAOJ,EAAII,KAAOsB,GAAY,MAGpDnG,EAAGsG,UAAUpG,KAAKqG,OAASnF,EAAYF,GACrCY,UAAW,SAAS0E,EAAGC,GAAarG,EAAOsG,aAAatG,EAAOwD,aAAe4C,EAAGC,IACjFrE,SAAU,SAASoE,GAAKpG,EAAOsG,aAAaF,IAC5CvE,SAAU,WAAa,MAAO7B,GAAOuG,gBACrC/F,OAAQiD,EAAYjD,OACpB8B,MAAO,WAAaxB,EAAWwB,SAC/BH,KAAM,WAAanC,EAAOmC,QAC1Be,KAAMA,KAGJpC,EAAWjB,QAAQ2G,eAAgB,CACrC,GAAIC,EACJ7G,GAAGc,GAAG,OAAQZ,KAAK4G,OAAS,WAAaD,EAAgBE,WAAW,WAAa7F,EAAWwB,SAAY,OACxG1C,EAAGc,GAAG,QAASZ,KAAK8G,QAAU,WAAaC,aAAaJ,KAG1D,GAAIK,GAAclH,EAAGmH,eA6BrB,OA5BAnH,GAAGc,GAAG,SAAUZ,KAAKkH,SAAW,WAC9B,GAAIC,GAAYrH,EAAGmH,gBAAiBG,EAAStH,EAAGuH,oBAAoBxB,wBAChEyB,EAAS1C,EAAMoC,EAAYpC,IAAMuC,EAAUvC,IAC3C2C,EAAQD,GAAUrC,OAAOuC,cAAgBjE,SAASgC,iBAAmBhC,SAAS8B,MAAMoC,UAExF,IADK3C,IAAOyC,GAASjE,EAAMoC,cACvB6B,GAASH,EAAOxC,KAAO2C,GAASH,EAAOvC,OAAQ,MAAO7D,GAAWwB,OACrEc,GAAMyB,MAAMH,IAAM0C,EAAS,KAC3BhE,EAAMyB,MAAMJ,KAAQA,EAAOqC,EAAYrC,KAAOwC,EAAUxC,KAAQ,OAGlE/E,EAAWgB,GAAG0C,EAAO,WAAY,SAASoE,GACxC,GAAIC,GAAI9E,EAAeS,EAAOoE,EAAEE,QAAUF,EAAEG,WACxCF,IAAiB,MAAZA,EAAErD,SAAiBpE,EAAOsG,aAAamB,EAAErD,QAASpE,EAAOmC,UAGpEzC,EAAWgB,GAAG0C,EAAO,QAAS,SAASoE,GACrC,GAAIC,GAAI9E,EAAeS,EAAOoE,EAAEE,QAAUF,EAAEG,WACxCF,IAAiB,MAAZA,EAAErD,SACTpE,EAAOsG,aAAamB,EAAErD,QAClBtD,EAAWjB,QAAQ+H,uBAAuB5H,EAAOmC,UAIzDzC,EAAWgB,GAAG0C,EAAO,YAAa,WAChCuD,WAAW,WAAW/G,EAAGiI,SAAW,MAGtCnI,EAAWoI,OAAO5E,EAAM,SAAUO,EAAY,GAAIL,EAAM2E,aACjD,EAjRT,GAAIhE,GAA4B,kBAC5BC,EAA4B,wBAIhCtE,GAAWsI,SAAW,SAASpI,EAAIqI,EAAUpI,GAC3C,IAAKoI,EAAU,MAAOrI,GAAGoI,SAASnI,EAC9BA,IAAWA,EAAQqI,QAAOD,EAASC,OAAQ,EAC/C,IAAIC,IAAWC,KAAMH,EACrB,IAAIpI,EAAS,IAAK,GAAIwI,KAAQxI,GAASsI,EAAQE,GAAQxI,EAAQwI,EAC/D,OAAOzI,GAAGoI,SAASG,IAGrBzI,EAAW4I,gBAAgB,WAAY,SAASzI,GAE9C,KAAIC,KAAKyI,iBAAiB/H,OAAS,GAAKV,KAAK0I,qBAA7C,CAEI1I,KAAK2I,MAAMC,kBAAkB5I,KAAK2I,MAAMC,iBAAiBpG,OAC7D,IAAIxB,GAAahB,KAAK2I,MAAMC,iBAAmB,GAAI/I,GAAWG,KAAMD,EAC/DiB,GAAWjB,QAAQuI,OAExB1I,EAAWoI,OAAOhI,KAAM,kBAAmBA,MAC3CgB,EAAW6H,QAAO,MAgBpB,IAAIC,GAAwB7D,OAAO6D,uBAAyB,SAASC,GACnE,MAAOlC,YAAWkC,EAAI,IAAK,KAEzBC,EAAuB/D,OAAO+D,sBAAwBjC,YAE1DlH,GAAWoJ,WACTzG,MAAO,WACAxC,KAAKkJ,WACVlJ,KAAKF,GAAG6I,MAAMC,iBAAmB,KACjC5I,KAAKI,KAAO,KACZJ,KAAKF,GAAGqJ,IAAI,iBAAkBnJ,KAAKa,cAE/Bb,KAAKE,QAAUF,KAAKoD,MAAMxD,EAAWoI,OAAOhI,KAAKoD,KAAM,SACvDpD,KAAKE,QAAQF,KAAKE,OAAOsC,QAC7B5C,EAAWoI,OAAOhI,KAAKF,GAAI,gBAAiBE,KAAKF,MAGnDoJ,OAAQ,WACN,MAAOlJ,MAAKF,GAAG6I,MAAMC,kBAAoB5I,MAG3CqC,KAAM,SAASe,EAAMS,GACnB,GAAI7C,GAAaoC,EAAKQ,KAAKC,EACvB7C,GAAWsH,KAAMtH,EAAWsH,KAAKtI,KAAKF,GAAIsD,EAAMpC,GAC/ChB,KAAKF,GAAGsJ,aAAarI,EAAQC,GAAaA,EAAW0D,MAAQtB,EAAKsB,KAC7C1D,EAAWqI,IAAMjG,EAAKiG,GAAI,YACpDzJ,EAAWoI,OAAO5E,EAAM,OAAQpC,GAChChB,KAAKwC,SAGP1B,eAAgB,WACVd,KAAKG,WACP6I,EAAqBhJ,KAAKG,UAC1BH,KAAKG,SAAW,EAGlB,IAAIoE,GAAMvE,KAAKF,GAAGQ,YAAaG,EAAOT,KAAKF,GAAGU,QAAQ+D,EAAI9D,KAC1D,IAAI8D,EAAI9D,MAAQT,KAAKK,SAASI,MAAQA,EAAKC,OAAS6D,EAAIyB,IAAMhG,KAAKO,SAAWP,KAAKK,SAAS2F,IACxFzB,EAAIyB,GAAKhG,KAAKK,SAAS2F,IAAMhG,KAAKF,GAAG4I,qBACpCnE,EAAIyB,IAAMhG,KAAKD,QAAQuJ,gBAAgBC,KAAK9I,EAAK+I,OAAOjF,EAAIyB,GAAK,IACpEhG,KAAKwC,YACA,CACL,GAAI7B,GAAOX,IACXA,MAAKG,SAAW2I,EAAsB,WAAYnI,EAAKkI,WACnD7I,KAAKE,QAAQF,KAAKE,OAAOuJ,YAIjCZ,OAAQ,SAASa,GACf,GAAiB,MAAb1J,KAAKI,KAET,GADIJ,KAAKoD,MAAMxD,EAAWoI,OAAOhI,KAAKoD,KAAM,UACvCpD,KAAKD,QAAQuI,KAAKF,MAEhB,CACL,GAAIuB,KAAW3J,KAAKI,KAAMO,EAAOX,IACjCA,MAAKD,QAAQuI,KAAKtI,KAAKF,GAAI,SAASsD,GAC9BzC,EAAKP,MAAQuJ,GAAQhJ,EAAKiJ,aAAaxG,EAAMsG,IAChD1J,KAAKD,aALRC,MAAK4J,aAAa5J,KAAKD,QAAQuI,KAAKtI,KAAKF,GAAIE,KAAKD,SAAU2J,IAShEE,aAAc,SAASxG,EAAMsG,GAC3B1J,KAAKoD,KAAOA,CAEZ,IAAIC,GAAUrD,KAAKE,QAAUF,KAAKE,OAAOmD,QAAYqG,GAAS1J,KAAKD,QAAQ8J,cACvE7J,MAAKE,QAAQF,KAAKE,OAAOsC,QACzBY,GAAQA,EAAKQ,KAAKlD,SAChB2C,GAA8B,GAApBD,EAAKQ,KAAKlD,OACtBV,KAAKqC,KAAKe,EAAM,IAEhBpD,KAAKE,OAAS,GAAIiD,GAAOnD,KAAMoD,GAC/BxD,EAAWoI,OAAO5E,EAAM,YAK9BnD,aAAc,SAASF,GACrB,GAAIqH,GAASpH,KAAKF,GAAGC,QAAQ+J,YACzBC,IACJ,KAAK,GAAIxB,KAAQyB,GAAgBD,EAAIxB,GAAQyB,EAAezB,EAC5D,IAAInB,EAAQ,IAAK,GAAImB,KAAQnB,OACN6C,KAAjB7C,EAAOmB,KAAqBwB,EAAIxB,GAAQnB,EAAOmB,GACrD,IAAIxI,EAAS,IAAK,GAAIwI,KAAQxI,OACNkK,KAAlBlK,EAAQwI,KAAqBwB,EAAIxB,GAAQxI,EAAQwI,GACvD,OAAOwB,KA0JX5G,EAAO8F,WACLzG,MAAO,WACL,GAAIxC,KAAKgB,WAAWd,QAAUF,KAA9B,CACAA,KAAKgB,WAAWd,OAAS,KACzBF,KAAKsD,MAAMJ,WAAWgH,YAAYlK,KAAKsD,OACvCtD,KAAKgB,WAAWlB,GAAGqK,aAAanK,KAAKqG,OAErC,IAAIvG,GAAKE,KAAKgB,WAAWlB,EACrBE,MAAKgB,WAAWjB,QAAQ2G,iBAC1B5G,EAAGqJ,IAAI,OAAQnJ,KAAK4G,QACpB9G,EAAGqJ,IAAI,QAASnJ,KAAK8G,UAEvBhH,EAAGqJ,IAAI,SAAUnJ,KAAKkH,YAGxBuC,QAAS,WACPzJ,KAAKgB,WAAWlB,GAAGqK,aAAanK,KAAKqG,OACrC,IAAInG,GAASF,IACbA,MAAKqG,QAAUjE,MAAO,WAAalC,EAAOmD,QAAS,IACnDrD,KAAKgB,WAAWlB,GAAGsG,UAAUpG,KAAKqG,SAGpChE,KAAM,WACJrC,KAAKgB,WAAWqB,KAAKrC,KAAKoD,KAAMpD,KAAK0D,eAGvC8C,aAAc,SAAS3C,EAAG0C,GAKxB,GAJI1C,GAAK7D,KAAKoD,KAAKQ,KAAKlD,OACtBmD,EAAI0C,EAAYvG,KAAKoD,KAAKQ,KAAKlD,OAAS,EAAI,EACrCmD,EAAI,IACXA,EAAI0C,EAAY,EAAKvG,KAAKoD,KAAKQ,KAAKlD,OAAS,GAC3CV,KAAK0D,cAAgBG,EAAzB,CACA,GAAIuG,GAAOpK,KAAKsD,MAAM+G,WAAWrK,KAAK0D,aACtC0G,GAAK3G,UAAY2G,EAAK3G,UAAU6G,QAAQ,IAAMpG,EAA2B,IACzEkG,EAAOpK,KAAKsD,MAAM+G,WAAWrK,KAAK0D,aAAeG,GACjDuG,EAAK3G,WAAa,IAAMS,EACpBkG,EAAKG,UAAYvK,KAAKsD,MAAMmE,UAC9BzH,KAAKsD,MAAMmE,UAAY2C,EAAKG,UAAY,EACjCH,EAAKG,UAAYH,EAAK1E,aAAe1F,KAAKsD,MAAMmE,UAAYzH,KAAKsD,MAAMkH,eAC9ExK,KAAKsD,MAAMmE,UAAY2C,EAAKG,UAAYH,EAAK1E,aAAe1F,KAAKsD,MAAMkH,aAAe,GACxF5K,EAAWoI,OAAOhI,KAAKoD,KAAM,SAAUpD,KAAKoD,KAAKQ,KAAK5D,KAAK0D,cAAe0G,KAG5E3D,aAAc,WACZ,MAAOtB,MAAKsF,MAAMzK,KAAKsD,MAAMkH,aAAexK,KAAKsD,MAAM2E,WAAWvC,eAAiB,IAIvF9F,EAAW8K,eAAe,OAAQ,OAAQ,SAAS5K,EAAIC,GACrD,GAAI4K,GAAU7K,EAAG8K,WAAW9K,EAAGQ,YAAa,QAASuK,CACrD,IAAIF,EAAQjK,OACV,IAAK,GAAImD,GAAI,EAAGA,EAAI8G,EAAQjK,OAAQmD,IAAK,CACvC,GAAIG,GAAM2G,EAAQ9G,GAAG/D,EAAIC,EACzB,IAAIiE,GAAOA,EAAIJ,KAAKlD,OAAQ,MAAOsD,OAEhC,IAAI6G,EAAQ/K,EAAGgL,UAAUhL,EAAGQ,YAAa,cAC9C,GAAIuK,EAAO,MAAOjL,GAAW0I,KAAKyC,SAASjL,GAAK+K,MAAOA,QAClD,IAAIjL,EAAW0I,KAAK0C,QACzB,MAAOpL,GAAW0I,KAAK0C,QAAQlL,EAAIC,KAIvCH,EAAW8K,eAAe,OAAQ,WAAY,SAAS5K,EAAIC,GAGzD,IAAK,GAFDiE,GAAMlE,EAAGQ,YAAa2K,EAAQnL,EAAGoL,WAAWlH,GAC5CmH,KACKtH,EAAI,EAAGA,EAAI9D,EAAQ8K,MAAMnK,OAAQmD,IAAK,CAC7C,GAAIuH,GAAOrL,EAAQ8K,MAAMhH,EACrBuH,GAAKC,MAAM,EAAGJ,EAAMK,OAAO5K,SAAWuK,EAAMK,QAC9CH,EAAMI,KAAKH,GAGf,GAAID,EAAMzK,OAAQ,OAChBkD,KAAMuH,EACNzG,KAAM9E,EAAW4L,IAAIxH,EAAIvD,KAAMwK,EAAMQ,OAC/BpC,GAAIzJ,EAAW4L,IAAIxH,EAAIvD,KAAMwK,EAAMS,QAI7C9L,EAAW+L,SAASC,aAAehM,EAAWsI,QAE9C,IAAI8B,IACF1B,KAAM1I,EAAW0I,KAAKuD,KACtBhC,gBAAgB,EAChBpF,eAAe,EACf6E,gBAAiB,mBACjB5C,gBAAgB,EAChBoB,uBAAuB,EACvBnC,UAAW,KACXjD,WAAY,KACZE,UAAW,KAGbhD,GAAWkM,aAAa,cAAe","file":"show-hint.min.js"}